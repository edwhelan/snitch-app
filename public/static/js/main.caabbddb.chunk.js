(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,n){e.exports=n(24)},17:function(e,t,n){},19:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),i=n(8),o=n.n(i),r=(n(17),n(1)),c=n(2),s=n(4),u=n(3),m=n(5),d=(n(19),n(10)),g=function(e){var t=e.data.sort(function(e,t){return t.votevalue-e.votevalue});return l.a.createElement("div",{className:"upvoted-image-column"},l.a.createElement("span",{className:"column-text"},"Nice!"),t.map(function(t){return l.a.createElement("div",{className:"fancy-border"},l.a.createElement("img",{className:"upvoted-image",key:t.id,src:t.image}),l.a.createElement("div",{className:"button-row"},l.a.createElement("button",{onClick:function(){e.handleClick(t.id)}},l.a.createElement("i",{class:"fas fa-arrow-up"})),t.votevalue,l.a.createElement("button",{onClick:function(){e.downClick(t.id)}},l.a.createElement("i",{class:"fas fa-arrow-down"}))))}))},f=function(e){var t=e.data.sort(function(e,t){return e.votevalue-t.votevalue});return l.a.createElement("div",{className:"upvoted-image-column"},l.a.createElement("span",{className:"column-text"},"Naughty!"),t.map(function(t){return l.a.createElement("div",{className:"fancy-border"},l.a.createElement("img",{className:"upvoted-image",key:t.id,src:t.image}),l.a.createElement("div",{className:"button-row"},l.a.createElement("button",{onClick:function(){e.handleClick(t.id)}},l.a.createElement("i",{class:"fas fa-arrow-up"})),t.votevalue,l.a.createElement("button",{onClick:function(){e.downClick(t.id)}},l.a.createElement("i",{class:"fas fa-arrow-down"}))))}))},p=function(e){var t=e.data.sort(function(e,t){return t.id-e.id});return l.a.createElement("div",{className:"upvoted-image-column"},l.a.createElement("span",{className:"column-text"},"New!"),t.map(function(t){return l.a.createElement("div",{className:"fancy-border"},l.a.createElement("img",{className:"upvoted-image",key:t.id,src:t.image}),l.a.createElement("div",{className:"button-row"},l.a.createElement("button",{onClick:function(){e.handleClick(t.id)}},l.a.createElement("i",{class:"fas fa-arrow-up"})),t.votevalue,l.a.createElement("button",{onClick:function(){e.downClick(t.id)}},l.a.createElement("i",{class:"fas fa-arrow-down"}))))}))},E=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e)))._doesVoteExist=function(e,t){return fetch("/api/voteExist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e,id:t})}).then(function(e){return e.json()})},n._upvoteImage=function(e){console.log("the child said it was ".concat(e));var t=n.state.user_id;n.state.loggedIn?n._doesVoteExist(n.state.user_id,e).then(function(n){1===n?console.log("if statement:".concat(n)):fetch("/api/upvoteimage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,loggedInUser:t})})}):console.log("You are not logged in")},n._downvoteImage=function(e){console.log("the child said it was ".concat(e));var t=n.state.user_id;n.state.loggedIn?n._doesVoteExist(n.state.user_id,e).then(function(n){1===n?console.log("if statement:".concat(n)):fetch("/api/downvoteimage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,loggedInUser:t})})}):console.log("You are not logged in")},n.state={list:[],loggedIn:!1,user_id:0},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log("fetching data");this.interval=setInterval(function(){fetch("/api/getList").then(function(e){return e.json()}).then(function(t){t.filter(function(t){return 0===e.state.list.filter(function(e){return e.id===t.id}).length}).map(function(t){e.setState({list:[].concat(Object(d.a)(e.state.list),[t])})}),t.filter(function(t){return 0!==e.state.list.filter(function(e){return e.id===t.id}).length}).forEach(function(t){e.setState({list:e.state.list.map(function(e){return e.id===t.id?t:e})})})})},void fetch("/api/loggedin").catch(function(e){console.log(e)}).then(function(e){return e.json()}).then(function(t){t?e.setState({loggedIn:!0,user_id:t.id}):console.log("move along")}),1e4)}},{key:"render",value:function(){return l.a.createElement("div",{className:"image-container"},l.a.createElement(p,{handleClick:this._upvoteImage,downClick:this._downvoteImage,data:this.state.list}),l.a.createElement(g,{handleClick:this._upvoteImage,downClick:this._downvoteImage,data:this.state.list}),l.a.createElement(f,{handleClick:this._upvoteImage,downClick:this._downvoteImage,data:this.state.list}))}}]),t}(a.Component),h=n(6),v=n.n(h),b=n(9),w=function(e){return l.a.createElement("form",{className:"nav-login",action:"/api/login",method:"POST"},l.a.createElement("label",null,"Email address:",l.a.createElement("input",{type:"email",name:"email",required:!0})),l.a.createElement("br",null),l.a.createElement("label",null,"Password:",l.a.createElement("input",{type:"password",name:"password",required:!0}))," ",l.a.createElement("br",null),l.a.createElement("input",{type:"submit",value:"submit"}))},y=function(e){return l.a.createElement("form",{action:"/logout",method:"POST"},l.a.createElement("input",{className:"logoutButton",type:"submit",value:"Logout"}))},k=function(e){return l.a.createElement("form",{action:"/register",method:"POST"},l.a.createElement("label",null,"Email address:",l.a.createElement("br",null),l.a.createElement("input",{type:"email",name:"email",required:!0})),l.a.createElement("br",null),l.a.createElement("label",null,"Display name:",l.a.createElement("br",null),l.a.createElement("input",{type:"text",name:"displayName",required:!0})),l.a.createElement("br",null),"Phone Number:",l.a.createElement("br",null),l.a.createElement("label",null,l.a.createElement("input",{type:"text",name:"phoneNumber",required:!0})),l.a.createElement("br",null),l.a.createElement("label",null,"Password:",l.a.createElement("br",null),l.a.createElement("input",{type:"password",name:"password",required:!0})),l.a.createElement("br",null),l.a.createElement("input",{type:"submit",value:"Register"}))},O=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e)))._isClickedLogin=function(){console.log("clicked it"),n.setState({loginOpen:!n.state.loginOpen})},n._isClickedRegister=function(){console.log("clicked it"),n.setState({registerOpen:!n.state.registerOpen})},n.state={loggedIn:!1,displayname:"",loginOpen:!1,registerOpen:!1},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=Object(b.a)(v.a.mark(function e(){var t=this;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/loggedin").catch(function(e){console.log(e)}).then(function(e){return e.json()}).then(function(e){e?t.setState({displayname:e.displayname,loggedIn:!0}):console.log("move along")});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return l.a.createElement("div",{className:"navbar"},l.a.createElement("ul",{className:"nav-ul"},l.a.createElement("li",null,"Naughty Or Nice 678-673-3936"),this.state.loggedIn?l.a.createElement("li",{className:"nav-logout"},l.a.createElement(y,null)):l.a.createElement(l.a.Fragment,null,l.a.createElement("li",null,l.a.createElement("button",{onClick:this._isClickedLogin},"Login")),l.a.createElement("li",null,this.state.loginOpen?l.a.createElement(w,null):l.a.createElement(l.a.Fragment,null)),l.a.createElement("li",null,l.a.createElement("button",{onClick:this._isClickedRegister},"Register")),l.a.createElement("li",null,this.state.registerOpen?l.a.createElement(k,null):l.a.createElement(l.a.Fragment,null))),l.a.createElement("li",null,l.a.createElement("i",{class:"fas fa-sleigh"}))))}}]),t}(a.Component),N=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(O,null),l.a.createElement(E,null))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[11,2,1]]]);
//# sourceMappingURL=main.caabbddb.chunk.js.map